<div class="container">
    <div class="row">
        <div class="col-12">
          <form [formGroup]="formGroup" class="form-group" (ngSubmit)="enviartalao()">
            <div class="card">
              <div class="card-body shadow">
                    <app-breadcrumb></app-breadcrumb>
                    <div class="row">
                      <div class="col-12">
                        <h5 class="card-title font-weight-bold">Adicionar produção</h5>
                        <div class="row text-sm">
                          <div class="col-xl-6 offset-xl-3 col-lg-6 offset-lg-3 col-md-6 offset-md-3 col-sm-8 offset-sm-2 col-12">
                            <div class="row">

                              <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12 mb-3">
                                <div class="row">
                                  <div class="col-12 font-weight-bolder">Referencia</div>
                                  <div class="col-12">
                                    <input class="form-control form-control-sm" type="text" placeholder="Referencia" formControlName="reference"
                                    [ngClass]="{'error': formGroup.get('reference').touched && formGroup.get('reference').hasError('required')}">

                                    <div class="" *ngIf="formGroup.get('reference').touched && formGroup.get('reference').hasError('required')">
                                      Informe a referencia
                                    </div>
                                  </div>
                                </div>
                              </div>

                              <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12 mb-3">
                                <div class="row">
                                  <div class="col-12 font-weight-bolder">Talão</div>
                                  <div class="col-12">
                                    <input class="form-control form-control-sm" type="text" placeholder="Talão" formControlName="patch"
                                    [ngClass]="{'error': formGroup.get('patch').touched && formGroup.get('patch').hasError('required')}">

                                    <div class="" *ngIf="formGroup.get('patch').touched && formGroup.get('patch').hasError('required')">
                                      Informe o talão
                                    </div>
                                  </div>
                                </div>
                              </div>

                              <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12 mb-3">
                                <div class="row">
                                  <div class="col-12 font-weight-bolder">Quantidade</div>
                                  <div class="col-12">
                                    <input class="form-control form-control-sm" type="text" placeholder="Quantidade"  mask="99999" formControlName="amount"
                                    [ngClass]="{'error': formGroup.get('amount').touched && formGroup.get('amount').hasError('required')}">

                                    <div class="" *ngIf="formGroup.get('amount').touched && formGroup.get('amount').hasError('required')">
                                      Informe a quantidade
                                    </div>
                                  </div>
                                </div>
                              </div>

                              <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12 mb-3">
                                <div class="row">
                                  <div class="col-12 font-weight-bolder">Valor</div>
                                  <div class="col-12">
                                    <input class="form-control form-control-sm" currencyMask [options]="{ prefix: 'R$ ', thousands: '.', decimal: ',', align: 'left'}" formControlName="value"
                                    [ngClass]="{'error': formGroup.get('value').touched && formGroup.get('value').hasError('required')}">

                                    <div class="" *ngIf="formGroup.get('value').touched && formGroup.get('value').hasError('required')">
                                      Informe o valor
                                    </div>
                                  </div>
                                </div>
                              </div>

                              <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12 mb-3">
                                <div class="row">
                                  <div class="col-12 font-weight-bolder">Data Entrada</div>
                                  <div class="col-12">
                                    <input class="form-control form-control-sm" type="date" formControlName="dateEntry"
                                    [ngClass]="{'error': formGroup.get('dateEntry').touched && formGroup.get('dateEntry').hasError('required')}">

                                    <div class="" *ngIf="formGroup.get('dateEntry').touched && formGroup.get('dateEntry').hasError('required')">
                                      Informe a data de entrada
                                    </div>
                                  </div>
                                </div>
                              </div>

                              <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12 mb-3">
                                <div class="row">
                                  <div class="col-12 font-weight-bolder">Empresa</div>
                                  <div class="col-12">
                                    <select class="form-control  form-control-sm " formControlName="companyID" *ngIf="listCompanies.length">
                                      <option value="" selected disabled>Selecione a empresa</option>
                                      <option *ngFor="let aux of listCompanies" [ngValue]="aux">{{aux.companyName}}</option>
                                    </select>
                                    <span class="text-muted text-xs" *ngIf="!listCompanies.length">Você não possui empresas cadastradas,
                                      <a class="btn btn-link d-inline text-xs" >Cadastre a empresa aqui</a>
                                    </span>
                                  </div>
                                </div>
                              </div>

                              <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12 mb-3">
                                <div class="row">
                                  <div class="col-12 font-weight-bolder">Funcionario</div>
                                  <div class="col-12">
                                    <select class="form-control form-control-sm " formControlName="userID" autofocus *ngIf="listUsers.length">
                                      <option value="" disabled selected>Selecione o funcionario</option>
                                      <option *ngFor="let aux of listUsers" [ngValue]="aux">{{aux.name}}</option>
                                    </select>
                                  </div>
                                </div>
                              </div>
                              <div class="col-12 text-center">
                                <button class="btn btn-outline-success" type="submit" [disabled]="!formGroup.valid" >Enviar</button>
                                <button class="btn btn-outline-danger ml-2" type="reset" (click)="formGroup.reset()">Limpar</button>
                              </div>
                              <div class="alert alert-success align-self-center text-center mt-2 col-12" role="alert" *ngIf="openSucess">
                                Talão cadastrado com sucesso!
                            </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>


                  </div>
                </div>
            </form>
        </div>
    </div>
</div>

