{"version":3,"sources":["./src/app/features/login/login-routing.module.ts","./src/app/features/login/componets/login.component.ts","./src/app/features/login/componets/login.component.html","./src/app/features/login/login.module.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyC;AACc;AACM;;;AAI7D,MAAM,MAAM,GAAW;IACtB,EAAC,IAAI,EAAE,EAAE,EAAE,SAAS,EAAC,yEAAc,EAAC;CACpC,CAAC;AAMK,MAAM,kBAAkB;;iGAAlB,kBAAkB;8JAAlB,kBAAkB,kBAHpB,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,EAC9B,4DAAY;mIAEX,kBAAkB,uFAFnB,4DAAY;6FAEX,kBAAkB;cAJ9B,sDAAQ;eAAC;gBACR,OAAO,EAAE,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;gBACxC,OAAO,EAAE,CAAC,4DAAY,CAAC;aACxB;;;;;;;;;;;;;;ACbD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkD;AAC+B;AACxB;;;;;;;;;ICqB7C,0EACE;IAAA,uDACF;IAAA,4DAAM;;;IADJ,0DACF;IADE,wFACF;;ADbL,MAAM,cAAc;IAMzB,YACU,WAAwB,EACxB,YAA0B,EAC1B,QAA0B,EAC1B,MAAc,EACd,OAA0B;QAJ1B,gBAAW,GAAX,WAAW,CAAa;QACxB,iBAAY,GAAZ,YAAY,CAAc;QAC1B,aAAQ,GAAR,QAAQ,CAAkB;QAC1B,WAAM,GAAN,MAAM,CAAQ;QACd,YAAO,GAAP,OAAO,CAAmB;IAChC,CAAC;IAEL,QAAQ;QACN,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC;QACtC,IAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,SAAS,EAAC;YACxC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC;YACtC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;SACrB;aAAI;YACH,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;gBACtC,KAAK,EAAE,CAAC,EAAE,EAAE,sEAAgB,CAAC,KAAK,CAAC;gBACnC,QAAQ,EAAE,CAAC,EAAE,EAAE,yDAAU,CAAC,QAAQ,CAAC;aACpC,CAAC;SACH;IAEH,CAAC;IACD,IAAI,SAAS;QACX,OAAO,IAAI,CAAC,UAAU;IACxB,CAAC;IACD,IAAI,MAAM;QACR,OAAO,IAAI,CAAC,OAAO,CAAC;IACtB,CAAC;IACD,IAAI,KAAK;QACP,OAAO,IAAI,CAAC,MAAM,CAAC;IACrB,CAAC;IACM,KAAK;QACV,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;QACpB,MAAM,IAAI,GAAE;YACV,OAAO,EAAK,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,KAAK;YAC7C,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,KAAK;SACjD;QACD,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,SAAS,CAAC,CAAC,GAAG,EAAE,EAAE;YAC7C,UAAU,CAAC,GAAG,EAAE,GAAE,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,EAAC,EAAE,IAAI,CAAC,CAAC;YAC/C,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;YACpC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YACjC,IAAI,CAAC,OAAO,GAAG,IAAI;YACnB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC;YACtC,IAAI,CAAC,UAAU,GAAG,KAAK;YACvB,uBAAuB;QACzB,CAAC,EAAC,CAAC,KAAK,EAAE,EAAE;YACV,IAAI,CAAC,UAAU,GAAG,IAAI;YACtB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO;YACxC,UAAU,CAAC,GAAG,EAAE,GAAE,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,EAAC,EAAE,IAAI,CAAC,CAAC;QACjD,CAAC,CAAC;IACJ,CAAC;;4EAvDU,cAAc;8FAAd,cAAc;QCZ3B,yEACE;QAAA,yEACE;QAAA,yEACE;QAAA,yEACE;QAAA,yEACE;QAAA,0EACE;QADgD,0IAAY,WAAO,IAAC;QACpE,2EAAc;QAAA,gEAAK;QAAA,4DAAQ;QAC3B,sEAMA;QAAA,2EAAe;QAAA,iEAAK;QAAA,4DAAQ;QAC5B,uEAMA;QAAA,0EACE;QAAA,8EAAsF;QAAA,kEAAM;QAAA,4DAAS;QACvG,4DAAM;QACN,6GAEM;QACR,4DAAO;QACT,4DAAM;QACR,4DAAM;QACR,4DAAM;QACR,4DAAM;QACR,4DAAM;;QA1B6B,0DAAuB;QAAvB,oFAAuB;QAgBF,0DAA6B;QAA7B,0FAA6B;QAExB,0DAAe;QAAf,+EAAe;;6FDX/D,cAAc;cAL1B,uDAAS;eAAC;gBACT,QAAQ,EAAE,WAAW;gBACrB,WAAW,EAAE,wBAAwB;gBACrC,SAAS,EAAE,CAAC,wBAAwB,CAAC;aACtC;;;;;;;;;;;;;;AEXD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiE;AAClB;AACW;AACU;AAC3B;AACe;AACU;AACjB;AACe;AACjB;AAEc;AACD;;;AAqBrD,MAAM,WAAW;;0FAAX,WAAW;gJAAX,WAAW,kBAlBb;YACP,4DAAY;YACZ,6EAAU;YACV,8DAAiB;YACjB,yEAAkB;YAClB,0DAAW;YACX,kEAAmB;YACnB,qEAAgB;YAChB,sDAAa,CAAC,OAAO,EAAE;YACvB,iFAAY;YACZ,uEAAiB;YACjB,4DAAgB;SACjB;mIAMU,WAAW,mBAJpB,0EAAc,aAbd,4DAAY;QACZ,6EAAU;QACV,8DAAiB;QACjB,yEAAkB;QAClB,0DAAW;QACX,kEAAmB;QACnB,qEAAgB,0DAEhB,iFAAY;QACZ,uEAAiB;QACjB,4DAAgB;6FAOP,WAAW;cAnBvB,sDAAQ;eAAC;gBACR,OAAO,EAAE;oBACP,4DAAY;oBACZ,6EAAU;oBACV,8DAAiB;oBACjB,yEAAkB;oBAClB,0DAAW;oBACX,kEAAmB;oBACnB,qEAAgB;oBAChB,sDAAa,CAAC,OAAO,EAAE;oBACvB,iFAAY;oBACZ,uEAAiB;oBACjB,4DAAgB;iBACjB;gBACD,YAAY,EAAE;oBACZ,0EAAc;iBACf;gBACD,OAAO,EAAE,CAAC,oEAAsB,CAAC;aAClC","file":"features-login-login-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { LoginComponent } from './componets/login.component';\r\n\r\n\r\n\r\nconst routes: Routes = [\r\n {path: '', component:LoginComponent}\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class LoginRoutingModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { CustomValidators } from 'ngx-custom-validators';\r\nimport { LoginService } from '../service/login.service';\r\nimport { UsersDataService } from 'src/app/shared/service/UsersData.service';\r\nimport { Router } from '@angular/router';\r\nimport { NgxSpinnerService } from 'ngx-spinner';\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.scss']\r\n})\r\nexport class LoginComponent implements OnInit {\r\n  private _error: any\r\n  private _logado: boolean;\r\n  private _openError: boolean;\r\n  public formGroup: FormGroup\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private loginService: LoginService,\r\n    private userData: UsersDataService,\r\n    private router: Router,\r\n    private spinner: NgxSpinnerService,\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    console.log(this.userData.auth.length)\r\n    if(this.userData.userInfo[0] != undefined){\r\n      this.router.navigate(['/financeiro']);\r\n      this._logado = true;\r\n    }else{\r\n      this.formGroup = this.formBuilder.group({\r\n        email: ['', CustomValidators.email],\r\n        password: ['', Validators.required]\r\n      })\r\n    }\r\n\r\n  }\r\n  get openError(){\r\n    return this._openError\r\n  }\r\n  get logado(){\r\n    return this._logado;\r\n  }\r\n  get error(){\r\n    return this._error;\r\n  }\r\n  public login(){\r\n    this.spinner.show();\r\n    const body ={\r\n      \"email\":    this.formGroup.get('email').value,\r\n      \"password\": this.formGroup.get('password').value\r\n    }\r\n    this.loginService.auth(body).subscribe((res) =>{\r\n      setTimeout(() => {this.spinner.hide();}, 5000);\r\n      this.userData.setUserInfo(res.user);\r\n      this.userData.setAuth(res.token);\r\n      this._logado = true\r\n      this.router.navigate(['/financeiro']);\r\n      this._openError = false\r\n      // this.spinner.hide();\r\n    },(error) =>{\r\n      this._openError = true\r\n      this._error = error.error.status.messege\r\n      setTimeout(() => {this.spinner.hide();}, 5000);\r\n    })\r\n  }\r\n}\r\n","<div class=\"container center\">\r\n  <div class=\"row\">\r\n    <div class=\"col-xl-4 offset-xl-4 col-lg-4 offset-lg-4 col-md-6 offset-md-3 col-sm-12 col-12\">\r\n      <div class=\"card align-self-center\">\r\n        <div class=\"card-body\">\r\n          <form class=\"form-group\" [formGroup]=\"formGroup\"  (ngSubmit)=\"login()\">\r\n            <label for=\"\">Email</label>\r\n            <input\r\n            type=\"email\"\r\n            class=\"form-control\"\r\n            autocomplete=\"off\"\r\n            formControlName=\"email\"\r\n            >\r\n            <label for=\"\" >Senha</label>\r\n            <input\r\n            type=\"password\"\r\n            class=\"form-control\"\r\n            autocomplete=\"off\"\r\n            formControlName=\"password\"\r\n            >\r\n            <div class=\"text-center mt-3\">\r\n              <button class=\"btn btn-block btn-success\" [disabled]=\"!formGroup.valid\" type=\"submit\">Entrar</button>\r\n            </div>\r\n            <div class=\"alert alert-info mt-2\" role=\"alert\" *ngIf=\"openError\">\r\n              {{error}}\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { CustomFormsModule } from 'ngx-custom-validators';\r\nimport { SharedModule } from 'src/app/shared/modules/shared.module';\r\nimport { NgxMaskModule } from 'ngx-mask';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\r\nimport { NgxCurrencyModule } from 'ngx-currency';\r\nimport { PipeModule } from 'src/app/shared/modules/pipe.module';\r\nimport { NgxSpinnerModule } from \"ngx-spinner\";\r\n\r\nimport { LoginComponent } from './componets/login.component';\r\nimport { LoginRoutingModule } from './login-routing.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    PipeModule,\r\n    NgxCurrencyModule,\r\n    LoginRoutingModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    HttpClientModule,\r\n    NgxMaskModule.forRoot(),\r\n    SharedModule,\r\n    CustomFormsModule,\r\n    NgxSpinnerModule\r\n  ],\r\n  declarations: [\r\n    LoginComponent\r\n  ],\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA],\r\n})\r\nexport class LoginModule { }\r\n"],"sourceRoot":"webpack:///"}